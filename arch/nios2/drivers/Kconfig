# Platfrom drivers configuration

menu "Additional NiosII Device Drivers"

source "arch/nios2/drivers/pci/Kconfig"

config ALTERA_REMOTE_UPDATE
	bool "Remote update support"
	depends on NIOS2
	default N
	help
	  This driver provides support for automatic reconfiguration of a
	  CycloneIII FPGA (Possibly others too).

choice ALTERA_REMOTE_UPDATE_FLASH_WIDTH
	prompt "FPGA configuration flash data width"
	depends on ALTERA_REMOTE_UPDATE
	default ALTERA_REMOTE_UPDATE_FLASH_WIDTH_16
	help
	  The ALTREMOTE_UPDATE megafunction requires that you only provide it
	  the 22 highest-order bits of a 24-bit address offset.

	  This options controls the value by which the address offset of the
	  FPGA configuration image is shifted depending on the data width of
	  the flash where your image is stored.

	  EPCS flash data witdh is usually 8 bit
	  CFI flash data width is usually 16 bit

config ALTERA_REMOTE_UPDATE_FLASH_WIDTH_8
	bool "8 bits (shift address by 2)"
config ALTERA_REMOTE_UPDATE_FLASH_WIDTH_16
	bool "16 bits (shift address by 3)"
endchoice

config PIO_DEVICES
	tristate "Enable NiosII PIO driver"
	default n
	help

config PIO_LED
	bool "Enable NiosII PIO LED driver"
	depends on PIO_DEVICES
	default n
	help
	  Enable the example PIO LED driver (which just displays a timer value
	  on the 8 LEDs)

config GENERIC_GPIO
	bool
	depends on NIOS2_GPIO || ALTERA_PIO_GPIO

config NIOS2_GPIO
	bool "GPIO driver"
	default n
	select GENERIC_GPIO
	help
	  The custom gpio core, openip/gpio, uses fewer LEs and runs faster
	  than the Altera PIO. The spinlock is no longer needed.

config ALTERA_PIO_GPIO
	bool "Altera PIO to GPIO driver"
	default n
	select GENERIC_GPIO
	help
	  This driver provides GPIO support for Altera PIO. Each PIO port is
	  expanded to 32 gpio pins. And multiple PIO ports can be accessed by
	  the array. Interrupt is not supported.

endmenu
